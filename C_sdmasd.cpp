#include <bits/stdc++.h>
using namespace std;
int ask(int x,int y){if(x<-100000000||y<-100000000)return -1;cout<<"? "<<x<<' '<<y<<endl;int ret;cin>>ret;return ret;}int main(){queue<int>qn,qm;int lstx=100000001;int lsty=100000001;int z=1;int dummy;for(int i=123;i<456789;i++){if(ask(i,i)!=0){dummy=i;break;}}while(true){if(lstx-z<-100000000||lsty-z<-100000000)break;int ret=ask(lstx-z,lsty-z);if(ret==z){z*=2;}else{lstx=lstx-z;lsty=lsty-z;int aa=lsty;int bb=lstx;if(ask(lstx-ret,dummy)==0){qn.push(lstx-ret);if(ask(dummy,lsty-ret)==0){qm.push(lsty-ret);}}else{qm.push(lsty-ret);}lstx-=ret;lsty-=ret;z=1;}}cout<< "! "<<qn.size()<<' '<<qm.size()<<'\n';while(!qn.empty()){cout<<qn.front()<<' ';qn.pop();}cout<<'\n';while(!qm.empty()){cout<<qm.front()<<' ';qm.pop();}cout<<'\n';cout<<endl;return 0;}